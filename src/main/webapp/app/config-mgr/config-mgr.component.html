<!--<td-layout-nav logo="assets:jd-logo-portrait">-->
<td-layout-nav>
    <div td-toolbar-content layout="row" layout-align="center center" flex class="tc-white-4">
        <span>京东商城-商城研发部-基础服务组</span>
        <span flex></span>
        <!--<a md-icon-button mdTooltip="Docs" href="https://teradata.github.io/covalent/" target="_blank"><md-icon>chrome_reader_mode</md-icon></a>-->
    </div>
    <td-layout-manage-list #manageList
                           [opened]="media.registerQuery('gt-sm') | async"
                           [mode]="(media.registerQuery('gt-sm') | async) ? 'side' : 'push'"
                           [sidenavWidth]="(media.registerQuery('gt-xs') | async) ? '257px' : '100%'">
        <md-toolbar td-sidenav-content>
            <span>控制面板</span>
            <button md-icon-button
                    *ngIf="manageList.opened"
                    (click)="manageList.close()">
                <md-icon>arrow_forward</md-icon>
            </button>
        </md-toolbar>
        <md-nav-list td-sidenav-content (click)="!media.query('gt-sm') && manageList.close()">
            <a md-list-item md-ripple class="block relative"
               (click)="!media.query('gt-sm') && manageList.close()"
               [routerLinkActive]="['active']"
               [routerLinkActiveOptions]="{exact:false}"
               [routerLink]="['/']">
                <md-icon md-list-icon>settings_applications</md-icon>
                <span>配置项管理</span>
            </a>
        </md-nav-list>
        <div td-toolbar-content layout="row" layout-align="start center" flex>
            <span>配置项列表</span>
            <span flex></span>
        </div>
        <md-card class="push-bottom-xxl" tdMediaToggle="gt-xs" [mediaClasses]="['push']">
            <td-search-box class="push-left push-right" placeholder="search" [alwaysVisible]="true"
                           (searchDebounce)="filterConfigs($event)"></td-search-box>
            <md-divider></md-divider>
            <ng-template tdLoading="configs.list">
                <md-list class="will-load">
                    <div class="md-padding" *ngIf="filteredData?.length === 0" layout="row"
                         layout-align="center center">
                        <h3>No Result to display.</h3>
                    </div>
                    <ng-template let-config let-last="last" ngFor [ngForOf]="filteredData">
                        <md-list-item>
                            <md-icon md-list-avatar [color]="config.status === 'normal' ? 'accent' : ''">
                                settings_applications
                            </md-icon>
                            <h3 md-line> {{config.id}} {{config.displayName}} </h3>
                            <p md-line> {{config.memo}} </p>
                            <p md-line hide-gt-md class="md-caption"> {{ config.lastAccess | timeAgo }} </p>
                            <span flex></span>
                            <span hide-xs hide-sm hide-md flex-gt-xs="60" flex-xs="40" layout-gt-xs="row">
                              <div class="md-caption tc-grey-500" flex-gt-xs="50">
                                  {{ config.created | date }}
                              </div>
                              <div class="md-caption tc-grey-500"
                                   flex-gt-xs="50"> {{ config.lastAccess | timeAgo }} </div>
                            </span>
                            <span [style.visibility]="(config.status === 'normal') ? 'hidden' : 'visible' ">
                                  <button md-icon-button (click)="activate(config.id, config.displayName)">
                                        <md-icon>play_circle_filled</md-icon>
                                  </button>
                          </span>
                        </md-list-item>
                        <md-divider *ngIf="!last" md-inset></md-divider>
                    </ng-template>
                </md-list>
            </ng-template>
        </md-card>
    </td-layout-manage-list>
</td-layout-nav>
